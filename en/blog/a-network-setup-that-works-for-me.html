<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Building a network setup that works for Me - dan.rio</title>
    <link rel="stylesheet" href="/static/css/styles.css">
    <link rel="stylesheet" href="/static/css/post.css">
    <link rel="preload" href="/static/js/theme.js" as="script">
    <script src="/static/js/theme.js"></script>
    <script src="/static/js/transitions.js" defer></script>
</head>
<body>
    <nav class="nav" style="view-transition-name: site-nav;">
        <div class="nav-container">
            <a href="/en/index.html" class="logo" style="view-transition-name: landing-title;">dan.rio</a>
            <div class="nav-right">
                <ul class="nav-links">
                    <li><a href="/en/index.html" class="active" style="view-transition-name: nav-blog;">BLOG</a></li>
                    <li><a href="/en/about.html" style="view-transition-name: nav-about;">ABOUT</a></li>
                    <li><a href="/en/cv.html" style="view-transition-name: nav-cv;">CV</a></li>
                </ul>
                <div style="view-transition-name: lang-toggle;"><a href="/pt/blog/a-network-setup-that-works-for-me.html" class="lang-toggle" aria-label="Switch to Português (currently English)" data-current-lang="en">
        <svg class="lang-icon" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <circle cx="12" cy="12" r="10"/>
            <path d="M2 12h20M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"/>
        </svg>
        <span class="lang-text">
            <span class="lang-en active">EN</span>
            <span class="lang-sep">/</span>
            <span class="lang-pt">PT</span>
        </span>
    </a></div>
                <button id="theme-toggle" class="theme-toggle" aria-label="Toggle theme" style="view-transition-name: theme-toggle;">
                    <svg class="sun-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <circle cx="12" cy="12" r="5"/>
                        <line x1="12" y1="1" x2="12" y2="3"/>
                        <line x1="12" y1="21" x2="12" y2="23"/>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/>
                        <line x1="1" y1="12" x2="3" y2="12"/>
                        <line x1="21" y1="12" x2="23" y2="12"/>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/>
                    </svg>
                    <svg class="moon-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"/>
                    </svg>
                </button>
            </div>
        </div>
    </nav>

    <main class="container">
        <article class="post" style="view-transition-name: post-container-1;">
            <header class="post-header">
                <a href="/en/index.html" class="back-link">← Back to Blog</a>
                <div class="last-updated">Last updated: November 25, 2025 at 10:57 PM</div>
                <h1 class="post-title-large" style="view-transition-name: post-title-1;">BUILDING A NETWORK SETUP THAT WORKS FOR ME</h1>
                <div class="post-meta">
                    <time class="post-date" style="view-transition-name: post-date-1;">November 05, 2025</time>
                    <span class="post-separator">•</span>
                    <span class="post-reading-time">7 min read</span>
                </div>
                <div class="post-tags"><span class="tag-pill">home server</span><span class="tag-pill">networking</span><span class="tag-pill">unifi</span></div>
            </header>

            <div class="post-body">
                <p class="lead" style="view-transition-name: post-excerpt-1;">
                    A good network shouldn't be noticed nor demand attention, that was the main guiding principle of my quest to find the best network setup for my Home Server build.
                </p>
                <p>A good network should not demand attention. That was the guiding principle behind my Home Server build. My goal was clear: a network that is fast, secure and stable without constant tuning. I did not want enterprise complexity or a rack of blinking lights consuming half my shelf space. The hardware should be affordable, reliable, compact and pleasant to look at. An impossible task, or so it seemed.</p>
<h2>What Were the Options</h2>
<p>Three ecosystems emerged as candidates: Omada, pfSense and UniFi. Each promised control and stability in its own language. Omada looked polished on the surface with its clean interface and claims of seamless integration. The more I explored, though, the more I understood it was built for enterprise environments. It is stable, powerful and well designed, but it assumes structure: controllers, gateways and switches all managed through a centralized system that expects discipline and scale. You can configure VLANs and fine-tune access rules, but the experience feels like setting up a small office rather than a home. It works well, yet always seems to operate one layer above where you actually live.</p>
<p>pfSense stood at the opposite end of that spectrum. It offered everything Omada did not: transparency, depth and almost surgical control over every packet crossing your cables. But it demanded something in return that I was not willing to give: time. You do not just configure pfSense. You study it. You shape rules, manage subnets and slowly realize you have turned your home into a small datacenter. It is beautiful in its completeness but heavy in its consequence. I admired it, but I did not want to live with it.</p>
<p>That left UniFi, sitting quietly between the two like a bridge between practicality and depth. It spoke in the same technical terms as pfSense but translated them into something usable. The interface felt coherent, the devices felt related and the entire ecosystem carried the impression of having been designed by one mind. VLANs, routing and DHCP all connected in a way that did not feel abstract. It felt intentional. That is what caught me. I did not want something perfect. I wanted something that made sense. UniFi delivered.</p>
<h2>Why UniFi was the obvious answer</h2>
<p>What convinced me about UniFi was not power or marketing. It was coherence. Everything about it feels like it was designed by someone who understands what living with a network actually means. The interface is clean but not shallow. The options are deep but never overwhelming. The setup feels like a process you participate in rather than a battle you fight. You plug the device in, open the controller and it starts making sense almost immediately. VLANs, DHCP, firewall rules and routing are all there, arranged in a way that feels both familiar and deliberate. It is one of those rare systems where things simply behave as they should, and that reliability changes how you relate to it. You stop checking if it works and start trusting that it does.</p>
<p>What really stands out is how complete the ecosystem is. You can build an entire network without leaving UniFi's world. Everything speaks the same language. Everything integrates under the same logic. That consistency removes the anxiety of guessing whether things will cooperate. It is a kind of harmony that most brands promise but never quite reach. The hardware is well built, the software feels mature and the updates come with purpose rather than disruption.</p>
<p>That completeness makes decision-making easier as well since you don’t have to piece things together from different manufacturers or worry about mismatched standards. You just pick the parts that fit your requirements and they click together. For someone like me, who wanted a reliable setup but doesn’t want to spend weekends buried in configuration menus, that matters more than raw performance. Better yet if that reliability and integration comes with a really good performance.</p>
<h2>The easiness of cost creep</h2>
<p>It always starts with something reasonable. For me, that was the UCG-Max: small, quiet and strong enough to handle VLANs, DHCP and IPS without issues. Four 2.5 GbE ports and capacity for a few hundred clients. A solid baseline.</p>
<p>Then you start thinking about what else is possible. The UCG-Fiber adds 10 Gb uplinks and a built-in four-port switch. Add NVMe storage for Protect and suddenly you are not building a router. You are building a network core.</p>
<p>Once you are thinking that way, the E7 becomes obvious. Wi-Fi 7, 10 GbE uplink and enough capacity to make wireless feel real instead of convenient. Which means everything upstream needs to match, and you need proper PoE.</p>
<p>Then you need the Switch Enterprise 8 PoE to tie it together. Eight 2.5 GbE PoE+ ports, two 10 Gb SFP+ uplinks and Layer 3 routing. It makes everything feel complete. It also makes the budget real.</p>
<p>Each piece makes sense alone: UCG-Max as a solid start, UCG-Fiber for headroom, E7 for wireless, Enterprise 8 PoE to connect it all. Together, they're way more than a home network needs. That's when you realize restraint matters too.</p>
<h2>Why UniFi was the IMPOSSIBLE answer</h2>
<p>I kept trying to piece together the perfect setup in my head: a gateway, an access point and a switch to connect them. Then I found the UniFi Dream Router 7 (UDR7) and realized I did not need to. It does everything those three boxes would do: handles VLANs and DHCP properly, has Wi-Fi 7 built in and includes a few multi-gig ports for wired devices. It fits on a shelf, does not look like network equipment and costs less than buying separate pieces that would do the same job worse.</p>
<p>What convinced me was not any single feature but how well it all works together. The 2.5 GbE ports give wired connections real speed. The built-in controller means setup is just configuration instead of stitching things together. There is an SFP+ port if I ever need it. It is quiet, fast enough that it never gets in the way and simple enough that I can actually maintain it without spending weekends troubleshooting.</p>
<p>It matched what I wanted by not overcomplicating things. I needed segmentation, decent wireless and hardware that works without demanding attention. The UDR7 does all of that in one box for a reasonable price. That is why it felt impossible: not because it promised everything, but because it actually delivered what I had been trying to build.</p>
<h2>The future setup with the UDR7</h2>
<p>The ISP router goes into bridge mode and passes everything to the UDR7, which handles routing and DHCP while keeping traffic separated where it needs to be. Wired devices connect through the 2.5 GbE ports so local transfers stay fast. Wi-Fi starts as a single network because there is no reason to complicate it yet.</p>
<pre><code>[Internet] → [ISP router (bridge mode)] → [UDR7]
                                   ├─ LAN1: Desktop (VLAN 10)
                                   ├─ LAN2: Proxmox (VLAN 20)
                                   ├─ LAN3: TV (VLAN 30)
                                   └─ Wi-Fi: single SSID (maps to chosen VLAN, e.g., 30)
</code></pre>
<p>VLANs separate things by trust: my desktop and trusted devices go in VLAN 10, the server sits in VLAN 20 with static IPs and IoT devices live in VLAN 30 where they cannot talk to anything else. Inter-VLAN traffic is blocked by default and opens only where it makes sense. Desktop to server for SSH and file access. TV to Jellyfin for streaming. IoT to internet only.</p>
<p>AdGuard Home runs on Proxmox and handles DNS for the whole network. Every DHCP scope points to it, with the UDR7 as backup so things keep working if the server reboots. For external access, I'm starting with Cloudflare Tunnel since keeping ports closed is easier to manage. If I need more control later, I'll switch to Traefik and forward ports 80 and 443.</p>
<p>The UDR7 has enough ports for now, so I am not adding a switch until I actually need one. When that happens, I will connect a small 2.5 GbE switch to one of the existing ports and keep going. IDS will run in alert mode first so I can see what normal traffic looks like. Then I will enable blocking only for things that are actually problems. The whole point is to have clear segmentation, reasonable rules and hardware that just works without needing constant attention.</p>
            </div>
        </article>
    </main>

    <footer class="footer" style="view-transition-name: site-footer;">
        <div class="footer-container">
            <div class="social-links">
                <a href="https://x.com/dancavlli" target="_blank" rel="noopener" aria-label="Twitter">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"/>
                    </svg>
                </a>
                <a href="https://github.com/danielcavalli" target="_blank" rel="noopener" aria-label="GitHub">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/>
                    </svg>
                </a>
                <a href="https://www.linkedin.com/in/cavallidaniel/" target="_blank" rel="noopener" aria-label="LinkedIn">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"/>
                    </svg>
                </a>
            </div>
            <p class="copyright">© 2025 All Rights Reserved.</p>
        </div>
    </footer>
</body>
</html>