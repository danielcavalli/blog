<!DOCTYPE html>>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Building a Bilingual Blog with View Transitions - dan.rio</title>
    <link rel="stylesheet" href="/static/css/styles.css">
    <link rel="stylesheet" href="/static/css/post.css">
    <link rel="preload" href="/static/js/theme.js" as="script">
    <style>
        @view-transition {
            navigation: auto;
        }
    </style>
    <script src="/static/js/theme.js"></script>
    <script src="/static/js/transitions.js" defer></script>
</head>
<body>
    <nav class="nav">
        <div class="nav-container">
            <a href="/en/index.html" class="logo">dan.rio</a>
            <div class="nav-right">
                <ul class="nav-links">
                    <li><a href="/en/index.html" class="active">BLOG</a></li>
                    <li><a href="/en/about.html">ABOUT</a></li>
                </ul>
                <a href="/pt/blog/building-a-bilingual-blog.html" class="lang-toggle" aria-label="Switch to Português (currently English)" data-current-lang="en">
        <svg class="lang-icon" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <circle cx="12" cy="12" r="10"/>
            <path d="M2 12h20M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"/>
        </svg>
        <span class="lang-text">
            <span class="lang-en active">EN</span>
            <span class="lang-sep">/</span>
            <span class="lang-pt ">PT</span>
        </span>
    </a>
                <button id="theme-toggle" class="theme-toggle" aria-label="Toggle theme">
                    <svg class="sun-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <circle cx="12" cy="12" r="5"/>
                        <line x1="12" y1="1" x2="12" y2="3"/>
                        <line x1="12" y1="21" x2="12" y2="23"/>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/>
                        <line x1="1" y1="12" x2="3" y2="12"/>
                        <line x1="21" y1="12" x2="23" y2="12"/>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/>
                    </svg>
                    <svg class="moon-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"/>
                    </svg>
                </button>
            </div>
        </div>
    </nav>

    <main class="container">
        <article class="post" style="view-transition-name: post-container-1;">
            <header class="post-header">
                <a href="/en/index.html" class="back-link">← Back to Blog</a>
                <div class="last-updated">Last updated: October 24, 2025 at 03:24 PM</div>
                <h1 class="post-title-large" style="view-transition-name: post-title-1;">BUILDING A BILINGUAL BLOG WITH VIEW TRANSITIONS</h1>
                <div class="post-meta">
                    <time class="post-date" style="view-transition-name: post-date-1;">October 23, 2025</time>
                    <span class="post-separator">•</span>
                    <span class="post-reading-time">4 min read</span>
                </div>
                <div class="post-tags"><span class="tag-pill">Web Development</span><span class="tag-pill">View Transitions API</span><span class="tag-pill">Gemini AI</span><span class="tag-pill">Static Sites</span></div>
            </header>

            <div class="post-body">
                <p class="lead" style="view-transition-name: post-excerpt-1;">
                    How this blog works: Python static generation, automatic Gemini AI translation, View Transitions API for seamless navigation, and a philosophy of building with native web standards.
                </p>
                <h1>Building a Bilingual Blog with View Transitions</h1>
<p>This blog is a minimal, fast-loading platform built with Python static site generation, automatic translation via Gemini AI, and seamless page transitions using the View Transitions API. No frameworks, no heavy dependencies—just native web standards doing real work.</p>
<h1>Building a Bilingual Blog with View Transitions</h1>
<p>This blog is a minimal, fast-loading platform built with Python static site generation, automatic translation via Gemini AI, and seamless page transitions using the View Transitions API. No frameworks, no heavy dependencies—just native web standards doing real work.</p>
<h2>Architecture Overview</h2>
<p><strong>Static Site Generator</strong>: Python script (<code>build.py</code>) parses Markdown posts, extracts frontmatter, generates clean HTML. Fast, simple, maintainable.</p>
<p><strong>Automatic Translation</strong>: Every post written in English is automatically translated to Brazilian Portuguese using Google's Gemini 2.5 Flash API. Translation cache (<code>translation-cache.json</code>) uses SHA-256 hashes—translations only regenerate when English source changes.</p>
<p><strong>View Transitions</strong>: Chromium's View Transitions API creates morphing, continuous transitions between pages. Blog cards expand into full articles. Navigation feels like reorganizing elements on a single surface, not jumping between pages.</p>
<h2>Key Features</h2>
<h3>Bilingual Content Generation</h3>
<pre><code class="language-python">translator = GeminiTranslator(api_key=os.getenv('GEMINI_API_KEY'))
translated = translator.translate_post(
    slug, frontmatter, content
)
</code></pre>
<p>The translator preserves natural Anglicisms (framework, backend, API), maintains code blocks unchanged, and produces fluent Brazilian Portuguese. Smart caching means fast rebuilds—only changed content gets retranslated.</p>
<h3>Seamless Page Navigation</h3>
<p>View Transitions API enables smooth morphing between pages:</p>
<ol>
<li>JavaScript intercepts navigation clicks</li>
<li>New page HTML is fetched</li>
<li><code>document.startViewTransition()</code> captures before/after states</li>
<li>Browser animates the diff automatically</li>
</ol>
<p>All animation behavior is defined in CSS using <code>::view-transition-*</code> pseudo-elements. JavaScript only triggers the API.</p>
<pre><code class="language-css">::view-transition-old(blog-header) {
    animation: slide-header-up 500ms cubic-bezier(0.4, 0, 0.2, 1);
}
</code></pre>
<h3>Ambient UI Design</h3>
<p>The language toggle shows a globe icon with "EN / PT". The active language has a <strong>soft ambient glow</strong> created with radial gradients and blur filters:</p>
<pre><code class="language-css">.lang-en.active::before {
    content: '';
    position: absolute;
    background: radial-gradient(circle, rgba(0, 123, 255, 0.12) 0%, transparent 70%);
    filter: blur(10px);
}
</code></pre>
<p>Theme toggle uses a ripple effect—600ms color transitions across all elements create atmospheric lighting shifts. The goal: calm, continuous interaction.</p>
<h3>Post Filtering with FLIP</h3>
<p>The index page filters posts by year, month, and tags. Layout reorganization uses the FLIP technique (First, Last, Invert, Play):</p>
<ol>
<li>Capture initial card positions</li>
<li>Apply filters</li>
<li>Capture final positions</li>
<li>Animate cards from old → new positions</li>
</ol>
<p>Two-phase animation: dissolve hidden cards (500ms), then reorganize visible cards (500ms). Smooth spatial continuity without jarring jumps.</p>
<h2>Motion System</h2>
<p>All animations follow unified timing constants:</p>
<pre><code class="language-css">--motion-duration-core: 500ms;
--motion-duration-quick: 300ms;
--motion-duration-ripple: 600ms;
--motion-easing: cubic-bezier(0.4, 0, 0.2, 1);
</code></pre>
<p>Every interaction shares the same rhythm. Post cards lift on hover (300ms), blog headers slide out (500ms), theme shifts ripple (600ms). Consistency creates cohesion.</p>
<h2>Anti-Flicker Engineering</h2>
<p>One challenge: preventing visual flicker during View Transitions. The solution:</p>
<p><strong>Remove conflicting CSS classes before starting transitions:</strong></p>
<pre><code class="language-javascript">// Clean up theme transition class before View Transition
document.body.classList.remove('theme-transitioning');
document.startViewTransition(() =&gt; {
    updateDOM(newContent);
});
</code></pre>
<p>The <code>theme-transitioning</code> class applies 600ms color transitions globally. If active during View Transitions, the two animation systems conflict—visible flicker. Cleanup before navigation eliminates this.</p>
<h2>Browser Compatibility</h2>
<p><strong>Target: Chromium Only</strong> (Chrome, Edge, Brave, Arc). View Transitions API is Chromium-exclusive. Graceful degradation: if API unavailable, navigation works normally without morphing effects.</p>
<p>This focused approach enables cutting-edge features without polyfills or compromises.</p>
<h2>Why This Approach?</h2>
<p><strong>Minimal Dependencies</strong>: No React, Next.js, or framework bloat. Native web APIs, Python, thoughtful design.</p>
<p><strong>Educational</strong>: Every line is readable and documented. The codebase teaches View Transitions, FLIP animations, modern CSS.</p>
<p><strong>Fast</strong>: Static HTML with aggressive caching. No heavy JavaScript parsing. Near-instant loads.</p>
<p><strong>Accessible</strong>: Keyboard navigation, focus states, screen reader support, semantic HTML throughout.</p>
<p><strong>Maintainable</strong>: Simple Python build script. No complex toolchains.</p>
<h2>File Structure</h2>
<pre><code>blog/
├── build.py                 # Main build script
├── translator.py            # Gemini translation
├── styles.css              # View Transitions CSS
├── theme.js                # Dark/light mode
├── transitions.js          # View Transitions navigation
├── filter.js               # FLIP filtering
├── blog-posts/             # Markdown sources
├── en/                     # Generated English site
└── pt/                     # Generated Portuguese site
</code></pre>
<h2>Conclusion</h2>
<p>Modern web development can be simple, elegant, powerful—without heavy frameworks. By leveraging native browser APIs (View Transitions), static site generation, and thoughtful design, we create polished experiences with minimal code.</p>
<p>The design is calm. The user experience is continuous. The code is minimal. That's the goal: a blog that gets out of the way and lets content shine.</p>
            </div>
        </article>
    </main>

    <footer class="footer">
        <div class="footer-container">
            <div class="social-links">
                <a href="https://x.com/dancavlli" target="_blank" rel="noopener" aria-label="Twitter">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"/>
                    </svg>
                </a>
                <a href="https://github.com/danielcavalli" target="_blank" rel="noopener" aria-label="GitHub">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/>
                    </svg>
                </a>
                <a href="https://www.linkedin.com/in/cavallidaniel/" target="_blank" rel="noopener" aria-label="LinkedIn">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"/>
                    </svg>
                </a>
            </div>
            <p class="copyright">© 2025 All Rights Reserved.</p>
        </div>
    </footer>
</body>
</html>